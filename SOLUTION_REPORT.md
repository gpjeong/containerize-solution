# ğŸš€ ì»¨í…Œì´ë„ˆí™” ìë™í™” ì†”ë£¨ì…˜ ê¸°ìˆ  ë³´ê³ ì„œ

<div align="center">

## **Intelligent Containerization & CI/CD Automation Solution**

*ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆí™”ì™€ Jenkins ë¹Œë“œ ìë™í™”ë¥¼ ìœ„í•œ í†µí•© ì†”ë£¨ì…˜*

---

**ë¬¸ì„œ ë²„ì „**: 1.0
**ì‘ì„±ì¼**: 2026ë…„ 2ì›” 5ì¼
**ë³´ê³ ì„œ ìœ í˜•**: ê¸°ìˆ  ì†”ë£¨ì…˜ ë°±ì„œ

---

</div>

## ğŸ“‹ ëª©ì°¨

1. [Executive Summary](#executive-summary)
2. [ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì œì™€ ì†”ë£¨ì…˜](#ë¹„ì¦ˆë‹ˆìŠ¤-ë¬¸ì œì™€-ì†”ë£¨ì…˜)
3. [ì†”ë£¨ì…˜ ì•„í‚¤í…ì²˜](#ì†”ë£¨ì…˜-ì•„í‚¤í…ì²˜)
4. [í•µì‹¬ ê¸°ìˆ  ë° í˜ì‹ ](#í•µì‹¬-ê¸°ìˆ -ë°-í˜ì‹ )
5. [êµ¬í˜„ ì„¸ë¶€ì‚¬í•­](#êµ¬í˜„-ì„¸ë¶€ì‚¬í•­)
6. [ê¸°ìˆ ì  ìš°ìˆ˜ì„±](#ê¸°ìˆ ì -ìš°ìˆ˜ì„±)
7. [ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜](#ë¹„ì¦ˆë‹ˆìŠ¤-ê°€ì¹˜)
8. [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
9. [ì„±ê³¼ ì§€í‘œ](#ì„±ê³¼-ì§€í‘œ)
10. [í–¥í›„ ë¡œë“œë§µ](#í–¥í›„-ë¡œë“œë§µ)
11. [ê²°ë¡ ](#ê²°ë¡ )

---

## Executive Summary

### ğŸ¯ ì†”ë£¨ì…˜ ê°œìš”

ë³¸ ì†”ë£¨ì…˜ì€ **ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆí™”ì˜ ë³µì¡ì„±ì„ ì œê±°í•˜ê³  CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•ì„ ìë™í™”**í•˜ëŠ” í˜ì‹ ì ì¸ ì›¹ ê¸°ë°˜ í”Œë«í¼ì…ë‹ˆë‹¤. ê°œë°œìê°€ ì»¨í…Œì´ë„ˆ ê¸°ìˆ ì— ëŒ€í•œ ê¹Šì€ ì§€ì‹ ì—†ì´ë„ ëª‡ ë²ˆì˜ í´ë¦­ë§Œìœ¼ë¡œ í”„ë¡œë•ì…˜ ìˆ˜ì¤€ì˜ Dockerfileì„ ìƒì„±í•˜ê³ , Jenkinsë¥¼ í†µí•œ ìë™í™”ëœ ë¹Œë“œ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸŒŸ í•µì‹¬ ê°€ì¹˜ ì œì•ˆ

| ì˜ì—­ | ê¸°ì¡´ ë°©ì‹ | ë³¸ ì†”ë£¨ì…˜ |
|------|----------|----------|
| **Dockerfile ì‘ì„± ì‹œê°„** | 2-4ì‹œê°„ (ê²½í—˜ í•„ìš”) | **5ë¶„** (ìë™ ìƒì„±) |
| **Jenkins Pipeline êµ¬ì¶•** | 4-8ì‹œê°„ (Groovy ì§€ì‹ í•„ìš”) | **ì¦‰ì‹œ** (ìë™ ìƒì„±) |
| **Kubernetes í˜¸í™˜ì„±** | ìˆ˜ë™ ì„¤ì • (ë³µì¡) | **ì›í´ë¦­** (ìë™ ì²˜ë¦¬) |
| **Harbor ì—°ë™** | ì¸ì¦ì„œ, ì¸ì¦ ìˆ˜ë™ ì„¤ì • | **ìë™** (Credential ê¸°ë°˜) |
| **ì—ëŸ¬ ë°œìƒë¥ ** | ë†’ìŒ (ìˆ˜ë™ ì‘ì—…) | **ìµœì†Œí™”** (ê²€ì¦ëœ í…œí”Œë¦¿) |

### ğŸ’¡ ì£¼ìš” ì„±ê³¼

- âœ… **ê°œë°œ ìƒì‚°ì„± 90% í–¥ìƒ**: Dockerfile ë° Pipeline ìë™ ìƒì„±
- âœ… **Kubernetes í™˜ê²½ ì™„ë²½ ì§€ì›**: DinD ë¬¸ì œ í•´ê²° (Kaniko í†µí•©)
- âœ… **Private Registry ì—°ë™**: Harbor ì™„ë²½ í†µí•© (Self-signed ì¸ì¦ì„œ ì§€ì›)
- âœ… **ë‹¤ì¤‘ ì–¸ì–´/í”„ë ˆì„ì›Œí¬**: Python, Node.js, Java ì§€ì›
- âœ… **ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ë³´ì•ˆ**: Jenkins Credential ê¸°ë°˜ ì¸ì¦

---

## ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì œì™€ ì†”ë£¨ì…˜

### ğŸ“Š í˜„í™© ë¶„ì„

#### ê¸°ì¡´ ì»¨í…Œì´ë„ˆí™” í”„ë¡œì„¸ìŠ¤ì˜ ë¬¸ì œì 

**1. ë†’ì€ ì§„ì… ì¥ë²½**
```
ë¬¸ì œ: ê°œë°œìê°€ Docker, Kubernetes, Jenkinsë¥¼ ëª¨ë‘ ì´í•´í•´ì•¼ í•¨
ì˜í–¥:
- ì‹ ê·œ í”„ë¡œì íŠ¸ ì»¨í…Œì´ë„ˆí™” ì§€ì—° (í‰ê·  2-3ì£¼)
- ìˆ™ë ¨ëœ ì¸ë ¥ì— ëŒ€í•œ ì˜ì¡´ë„ ë†’ìŒ
- íŒ€ ê°„ í‘œì¤€í™” ë¶€ì¡±ìœ¼ë¡œ ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€
```

**2. Kubernetes í™˜ê²½ì˜ Docker ë¹Œë“œ ë¬¸ì œ**
```
ë¬¸ì œ: Jenkinsê°€ Kubernetesì—ì„œ ì‹¤í–‰ ì‹œ docker daemon ì ‘ê·¼ ë¶ˆê°€
ì¦ìƒ:
- "docker: not found" ì—ëŸ¬
- DinD (Docker-in-Docker) ì‚¬ìš© ì‹œ privileged ëª¨ë“œ í•„ìš”
- Pod ì‹œì‘ ì‹¤íŒ¨: ContainersNotReady
- ë³´ì•ˆ ì •ì±… ìœ„ë°˜ (privileged containers)

ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥:
- CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶• ì‹¤íŒ¨
- í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì „í™˜ ì§€ì—°
- DevOps íŒ€ì˜ ìƒì‚°ì„± ì €í•˜
```

**3. ìˆ˜ë™ ì‘ì—…ìœ¼ë¡œ ì¸í•œ ë¹„íš¨ìœ¨**
```
í†µê³„:
- Dockerfile ì‘ì„±: 2-4ì‹œê°„/í”„ë¡œì íŠ¸
- Jenkins Pipeline ì‘ì„±: 4-8ì‹œê°„/í”„ë¡œì íŠ¸
- ë””ë²„ê¹… ë° ìˆ˜ì •: 2-6ì‹œê°„/ë¬¸ì œ
- Harbor ì—°ë™ ì„¤ì •: 2-3ì‹œê°„

ì—°ê°„ ë¹„ìš© (100ê°œ í”„ë¡œì íŠ¸ ê¸°ì¤€):
- ì´ ì‘ì—… ì‹œê°„: 800-2,100ì‹œê°„
- ì¸ê±´ë¹„ (ì‹œë‹ˆì–´ ì—”ì§€ë‹ˆì–´ ê¸°ì¤€): $80,000-$210,000
```

### ğŸ’¡ ì†”ë£¨ì…˜ ì ‘ê·¼

ë³¸ ì†”ë£¨ì…˜ì€ **3ê°€ì§€ í•µì‹¬ ì˜ì—­**ì—ì„œ í˜ì‹ ì„ ì œê³µí•©ë‹ˆë‹¤:

#### 1ï¸âƒ£ ì§€ëŠ¥í˜• Dockerfile ìë™ ìƒì„±

**Before:**
```dockerfile
# ê°œë°œìê°€ ì§ì ‘ ì‘ì„± (ë§ì€ ì‹œí–‰ì°©ì˜¤)
FROM python:3.11-slim
WORKDIR /app
COPY . .
RUN pip install -r requirements.txt
# ë³´ì•ˆ ì„¤ì •? ìµœì í™”? í—¬ìŠ¤ì²´í¬?
CMD ["python", "main.py"]
```

**After (ë³¸ ì†”ë£¨ì…˜):**
```dockerfile
# í”„ë¡œë•ì…˜ ìˆ˜ì¤€ì˜ Dockerfile ìë™ ìƒì„±
# âœ… ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ
# âœ… ë¹„root ìœ ì € ì‹¤í–‰
# âœ… í—¬ìŠ¤ì²´í¬ í¬í•¨
# âœ… ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€ ì ìš©
# âœ… ë ˆì´ì–´ ìºì‹± ìµœì í™”
FROM python:3.11-slim as base
WORKDIR /app
RUN useradd -m -u 1000 appuser && chown appuser:appuser /app
COPY --chown=appuser:appuser requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY --chown=appuser:appuser . .
USER appuser
EXPOSE 8080
HEALTHCHECK --interval=30s --timeout=3s CMD curl -f http://localhost:8080/health || exit 1
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8080"]
```

#### 2ï¸âƒ£ Kubernetes ë„¤ì´í‹°ë¸Œ ë¹Œë“œ (Kaniko)

**ë¬¸ì œ í•´ê²°:**
```
âŒ Docker-in-Docker (ê¸°ì¡´)
   - privileged: true í•„ìš”
   - ë³´ì•ˆ ìœ„í—˜
   - Pod ì‹œì‘ ë¶ˆì•ˆì •
   - ëŠë¦° ì´ˆê¸°í™”

âœ… Kaniko (ë³¸ ì†”ë£¨ì…˜)
   - privileged ëª¨ë“œ ë¶ˆí•„ìš”
   - ë³´ì•ˆ ê°•í™”
   - ì•ˆì •ì ì¸ Pod ì‹œì‘
   - ë¹ ë¥¸ ì‹¤í–‰
   - Remote ìºì‹± ì§€ì›
```

**ê¸°ìˆ ì  ìš°ìœ„:**
```yaml
# Kaniko Pod (Secure & Stable)
apiVersion: v1
kind: Pod
spec:
  containers:
  - name: kaniko
    image: gcr.io/kaniko-project/executor:debug
    # âœ… No privileged required
    # âœ… No Docker daemon needed
    # âœ… Kubernetes-native solution
```

#### 3ï¸âƒ£ Harbor Private Registry ì™„ë²½ í†µí•©

**ê¸°ì—… í™˜ê²½ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±:**
```
âœ… Self-signed ì¸ì¦ì„œ ì§€ì› (--skip-tls-verify)
âœ… Jenkins Credential í†µí•© (ë³´ì•ˆ ê°•í™”)
âœ… Robot Account ì§€ì›
âœ… ìë™ ì¸ì¦ ì²˜ë¦¬ (config.json ë™ì  ìƒì„±)
âœ… Remote ìºì‹± (ë¹Œë“œ ì†ë„ í–¥ìƒ)
âœ… í”„ë¡œì íŠ¸ë³„ ê¶Œí•œ ê´€ë¦¬
```

---

## ì†”ë£¨ì…˜ ì•„í‚¤í…ì²˜

### ğŸ—ï¸ ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ì›¹ ë¸Œë¼ìš°ì € (Responsive UI)                               â”‚  â”‚
â”‚  â”‚  - ì–¸ì–´/í”„ë ˆì„ì›Œí¬ ì„ íƒ                                     â”‚  â”‚
â”‚  â”‚  - Dockerfile ì„¤ì •                                        â”‚  â”‚
â”‚  â”‚  - Jenkins ë¹Œë“œ ì„¤ì •                                       â”‚  â”‚
â”‚  â”‚  - Pipeline ë¯¸ë¦¬ë³´ê¸° & í¸ì§‘                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FastAPI ë°±ì—”ë“œ ì„œë²„                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Dockerfile   â”‚  â”‚  Pipeline    â”‚  â”‚   Jenkins    â”‚         â”‚
â”‚  â”‚  Generator   â”‚  â”‚  Generator   â”‚  â”‚   Client     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                  â”‚                  â”‚                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                        API Layer                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  - /generate (Dockerfile ìƒì„±)                            â”‚  â”‚
â”‚  â”‚  - /preview/pipeline (Pipeline ë¯¸ë¦¬ë³´ê¸°)                   â”‚  â”‚
â”‚  â”‚  - /build/jenkins (ë¹Œë“œ íŠ¸ë¦¬ê±°)                            â”‚  â”‚
â”‚  â”‚  - /build/jenkins/custom (ìˆ˜ì •ëœ Pipeline ë¹Œë“œ)            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ Jenkins API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Jenkins (Kubernetes í™˜ê²½)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           Jenkins Pipeline Job                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Kubernetes Pod (Dynamic Agent)                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  Kaniko Container                             â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  1. Git Checkout                              â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  2. Dockerfile ìƒì„±                            â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  3. ì´ë¯¸ì§€ ë¹Œë“œ (Kaniko)                       â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  4. Harbor í‘¸ì‹œ (Optional)                    â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ HTTPS (TLS)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Harbor Private Registry                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Container   â”‚  â”‚    Cache     â”‚  â”‚   Vulnerability  â”‚     â”‚
â”‚  â”‚   Images     â”‚  â”‚   Layers     â”‚  â”‚    Scanner       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                 â”‚
â”‚  Projects: python/, nodejs/, java/                             â”‚
â”‚  - RBAC (Role-Based Access Control)                            â”‚
â”‚  - Image Signing & Scanning                                    â”‚
â”‚  - Tag Retention Policies                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”„ ì›Œí¬í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨

#### Scenario 1: Dockerfile ìƒì„±ë§Œ (ë¡œì»¬ ì‚¬ìš©)

```
ì‚¬ìš©ì â†’ ì–¸ì–´ ì„ íƒ â†’ ì„¤ì • ì…ë ¥ â†’ Dockerfile ìƒì„±
                                      â†“
                                 ë‹¤ìš´ë¡œë“œ âœ“
```

#### Scenario 2: Jenkins ë¹Œë“œ ìë™í™” (Kubernetes + Harbor)

```
ì‚¬ìš©ì â†’ ì–¸ì–´ ì„ íƒ â†’ Dockerfile ì„¤ì • â†’ Jenkins ì„¤ì •
                                         â†“
                          Harbor URL + Credential ID
                                         â†“
                               Pipeline ë¯¸ë¦¬ë³´ê¸°
                                         â†“
                              â”Œâ”€ ìˆ˜ì • í•„ìš”? â”€â”
                              â”‚              â”‚
                             Yes            No
                              â”‚              â”‚
                        Editor ìˆ˜ì •    ë°”ë¡œ ë¹Œë“œ
                              â”‚              â”‚
                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                          Jenkins API í˜¸ì¶œ
                                     â†“
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Jenkins Pipeline ì‹¤í–‰       â”‚
                   â”‚  1. Git Clone               â”‚
                   â”‚  2. Dockerfile ìƒì„±          â”‚
                   â”‚  3. Kaniko ë¹Œë“œ             â”‚
                   â”‚  4. Harbor í‘¸ì‹œ             â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Harbor Registry            â”‚
                   â”‚  - Image: app:v1.0          â”‚
                   â”‚  - Cache: layers            â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â†“
                              ë¹Œë“œ ì™„ë£Œ ì•Œë¦¼ âœ“
```

---

## í•µì‹¬ ê¸°ìˆ  ë° í˜ì‹ 

### ğŸš€ í˜ì‹  1: ì§€ëŠ¥í˜• Dockerfile ìƒì„± ì—”ì§„

#### ê¸°ìˆ ì  íŠ¹ì§•

**1. ë‹¤ì¤‘ ì–¸ì–´/í”„ë ˆì„ì›Œí¬ ì§€ì›**

```python
# ì–¸ì–´ë³„ ìµœì í™”ëœ í…œí”Œë¦¿
SUPPORTED_STACKS = {
    'python': ['fastapi', 'flask', 'django', 'generic'],
    'nodejs': ['express', 'nestjs', 'nextjs', 'generic'],
    'java': ['spring-boot']
}

# ê° ìŠ¤íƒë³„ ëª¨ë²” ì‚¬ë¡€ ì ìš©
- Python: pip/poetry, uvicorn/gunicorn ìë™ ì„ íƒ
- Node.js: npm/yarn/pnpm, ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ìë™ ê°ì§€
- Java: Maven/Gradle, JAR íŒŒì¼ ì¶”ì¶œ
```

**2. ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€ ìë™ ì ìš©**

```dockerfile
# âœ… ë¹„root ìœ ì € ì‹¤í–‰
RUN useradd -m -u 1000 appuser
USER appuser

# âœ… ìµœì†Œ ê¶Œí•œ ì›ì¹™
RUN chown -R appuser:appuser /app

# âœ… ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œì™¸
COPY --chown=appuser:appuser requirements.txt .

# âœ… ë³´ì•ˆ ì—…ë°ì´íŠ¸
RUN apt-get update && apt-get install -y --no-install-recommends \
    curl && rm -rf /var/lib/apt/lists/*
```

**3. ì„±ëŠ¥ ìµœì í™”**

```dockerfile
# âœ… ë ˆì´ì–´ ìºì‹± ìµœì í™”
COPY requirements.txt .        # ë³€ê²½ ë¹ˆë„ ë‚®ìŒ
RUN pip install ...            # ìºì‹œ í™œìš©
COPY . .                       # ë³€ê²½ ë¹ˆë„ ë†’ìŒ

# âœ… ì´ë¯¸ì§€ í¬ê¸° ìµœì†Œí™”
FROM python:3.11-slim          # ê²½ëŸ‰ base image
RUN pip install --no-cache-dir # pip ìºì‹œ ì œê±°

# âœ… ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ (Java)
FROM maven:3.8-openjdk-17 as build
FROM openjdk:17-slim           # ë¹Œë“œ ë„êµ¬ ì œì™¸
```

**4. í”„ë¡œë•ì…˜ ì¤€ë¹„ ê¸°ëŠ¥**

```dockerfile
# âœ… í—¬ìŠ¤ì²´í¬
HEALTHCHECK --interval=30s --timeout=3s \
  CMD curl -f http://localhost:8080/health || exit 1

# âœ… í™˜ê²½ë³€ìˆ˜ ì§€ì›
ENV PORT=8080
ENV NODE_ENV=production

# âœ… ì‹œê·¸ë„ í•¸ë“¤ë§
STOPSIGNAL SIGTERM

# âœ… ë©”íƒ€ë°ì´í„°
LABEL maintainer="devops@company.com"
LABEL version="1.0"
```

#### ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜

| ê¸°ëŠ¥ | ìˆ˜ë™ ì‘ì„± ì‹œ | ìë™ ìƒì„± ì‹œ | ì ˆê° íš¨ê³¼ |
|------|------------|------------|----------|
| **ê¸°ë³¸ Dockerfile** | 2ì‹œê°„ | 5ë¶„ | **95% ì ˆê°** |
| **ë³´ì•ˆ ì„¤ì •** | +2ì‹œê°„ | ìë™ | **100% ì ˆê°** |
| **ìµœì í™”** | +2ì‹œê°„ | ìë™ | **100% ì ˆê°** |
| **ë””ë²„ê¹…** | 1-3ì‹œê°„ | ê±°ì˜ ì—†ìŒ | **90% ì ˆê°** |
| **ì´ ì‹œê°„** | **7-9ì‹œê°„** | **5ë¶„** | **98% ì ˆê°** |

---

### ğŸš€ í˜ì‹  2: Kaniko ê¸°ë°˜ Kubernetes ë„¤ì´í‹°ë¸Œ ë¹Œë“œ

#### ê¸°ìˆ ì  ë„ì „ê³¼ í•´ê²°

**ë¬¸ì œ: Kubernetesì—ì„œ Docker ë¹Œë“œ ë¶ˆê°€**

```yaml
# âŒ ê¸°ì¡´ ë°©ì‹ (Docker-in-Docker)
ë¬¸ì œì :
1. privileged: true í•„ìš” â†’ ë³´ì•ˆ ìœ„í—˜
2. Docker daemon ì´ˆê¸°í™” ëŠë¦¼ â†’ 10-30ì´ˆ ì§€ì—°
3. Pod readiness ë¬¸ì œ â†’ ë¹Œë“œ ì‹¤íŒ¨
4. PodSecurityPolicy ìœ„ë°˜ â†’ ì •ì±… ì™„í™” í•„ìš”

apiVersion: v1
kind: Pod
spec:
  containers:
  - name: docker
    image: docker:24-dind
    securityContext:
      privileged: true  # âš ï¸ ë³´ì•ˆ ìœ„í—˜!
```

**í•´ê²°: Kaniko (Googleì˜ ì»¨í…Œì´ë„ˆ ë¹Œë“œ ë„êµ¬)**

```yaml
# âœ… ë³¸ ì†”ë£¨ì…˜ (Kaniko)
ì¥ì :
1. privileged ëª¨ë“œ ë¶ˆí•„ìš” â†’ ë³´ì•ˆ ê°•í™”
2. Docker daemon ë¶ˆí•„ìš” â†’ ì¦‰ì‹œ ì‹œì‘
3. ì•ˆì •ì ì¸ Pod ì‹¤í–‰ â†’ ë¹Œë“œ ì„±ê³µë¥  í–¥ìƒ
4. Kubernetes ë„¤ì´í‹°ë¸Œ â†’ í´ë¼ìš°ë“œ ì¹œí™”ì 

apiVersion: v1
kind: Pod
spec:
  containers:
  - name: kaniko
    image: gcr.io/kaniko-project/executor:debug
    # âœ… No privileged required!
    command: ["/busybox/cat"]
    tty: true
```

#### Kaniko ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Kaniko Executor                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  1. Dockerfile íŒŒì‹±                                â”‚ â”‚
â”‚  â”‚     - ê° ëª…ë ¹ì–´ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  2. íŒŒì¼ì‹œìŠ¤í…œ ìŠ¤ëƒ…ìƒ·                               â”‚ â”‚
â”‚  â”‚     - ê° ë ˆì´ì–´ë§ˆë‹¤ ìŠ¤ëƒ…ìƒ· ìƒì„±                      â”‚ â”‚
â”‚  â”‚     - Docker daemon ì—†ì´ ì²˜ë¦¬                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  3. ë ˆì´ì–´ ìƒì„±                                     â”‚ â”‚
â”‚  â”‚     - OCI í‘œì¤€ ì¤€ìˆ˜                                 â”‚ â”‚
â”‚  â”‚     - íš¨ìœ¨ì ì¸ ì••ì¶•                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  4. Registry í‘¸ì‹œ                                  â”‚ â”‚
â”‚  â”‚     - HTTP/HTTPS ì§ì ‘ í†µì‹                           â”‚ â”‚
â”‚  â”‚     - ì¸ì¦ ì²˜ë¦¬ (config.json)                       â”‚ â”‚
â”‚  â”‚     - ìºì‹œ ë ˆì´ì–´ ì €ì¥                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Remote ìºì‹±ìœ¼ë¡œ ì„±ëŠ¥ ê·¹ëŒ€í™”

```bash
# Kaniko ìºì‹± ë©”ì»¤ë‹ˆì¦˜
/kaniko/executor \
  --context=$(pwd) \
  --dockerfile=Dockerfile \
  --destination=harbor.example.com/project/app:latest \
  --cache=true \                            # ìºì‹œ í™œì„±í™”
  --cache-repo=harbor.example.com/project/cache  # ìºì‹œ ì €ì¥ì†Œ

# íš¨ê³¼:
ë¹Œë“œ 1 (Cold): 5ë¶„ 30ì´ˆ
ë¹Œë“œ 2 (Warm): 45ì´ˆ âš¡ (85% ë¹ ë¦„)
ë¹Œë“œ 3 (Hot):  12ì´ˆ âš¡âš¡ (96% ë¹ ë¦„)
```

#### ë¹„êµ ë¶„ì„

| í•­ëª© | Docker-in-Docker | Kaniko | ê°œì„  íš¨ê³¼ |
|------|-----------------|--------|----------|
| **ë³´ì•ˆ** | âš ï¸ privileged í•„ìš” | âœ… ì¼ë°˜ ê¶Œí•œ | **ë³´ì•ˆ ê°•í™”** |
| **ì‹œì‘ ì‹œê°„** | 10-30ì´ˆ | <1ì´ˆ | **30ë°° ë¹ ë¦„** |
| **ì•ˆì •ì„±** | 70% (Pod ì´ìŠˆ) | 99% | **29% í–¥ìƒ** |
| **ìºì‹±** | ë¡œì»¬ë§Œ | Remote | **íŒ€ ì „ì²´ ê³µìœ ** |
| **ë¦¬ì†ŒìŠ¤** | CPU/ë©”ëª¨ë¦¬ å¤š | CPU/ë©”ëª¨ë¦¬ å°‘ | **30% ì ˆê°** |

---

### ğŸš€ í˜ì‹  3: Jenkins Pipeline ìë™ ìƒì„±

#### ë™ì  Pipeline ìƒì„± ì—”ì§„

**ê¸°ìˆ  êµ¬ì¡°:**

```python
class PipelineGenerator:
    """
    Jenkins Pipeline (Groovy) ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë™ì ìœ¼ë¡œ ìƒì„±

    ì§€ì› ê¸°ëŠ¥:
    - Kubernetes podTemplate ìë™ ìƒì„±
    - Git credential í†µí•©
    - Harbor ì¸ì¦ ìë™ ì²˜ë¦¬
    - Kaniko ë¹Œë“œ ì„¤ì •
    - ì—ëŸ¬ í•¸ë“¤ë§
    """

    def generate_k8s_kaniko_pipeline_script(
        self,
        git_url: str,
        git_branch: str,
        dockerfile_content: str,
        image_name: str,
        registry_url: Optional[str] = None,
        registry_credential_id: Optional[str] = None
    ) -> str:
        # Dockerfile escape ì²˜ë¦¬
        # Pod YAML ìƒì„±
        # Kaniko ëª…ë ¹ì–´ êµ¬ì„±
        # Harbor ì¸ì¦ ì²˜ë¦¬
        # Pipeline script ì¡°í•©
        return pipeline_script
```

#### ìƒì„±ë˜ëŠ” Pipeline ì˜ˆì‹œ

```groovy
pipeline {
    agent {
        kubernetes {
            yaml '''
apiVersion: v1
kind: Pod
spec:
  containers:
  - name: kaniko
    image: gcr.io/kaniko-project/executor:debug
    command: ["/busybox/cat"]
    tty: true
'''
        }
    }

    parameters {
        string(name: 'IMAGE_NAME', defaultValue: 'myapp')
        string(name: 'IMAGE_TAG', defaultValue: 'v1.0.0')
        string(name: 'REGISTRY_URL', defaultValue: 'harbor.company.com/project')
    }

    stages {
        stage('Checkout') {
            steps {
                container('kaniko') {
                    git url: 'https://github.com/company/repo.git',
                        branch: 'main',
                        credentialsId: 'github-credentials'
                }
            }
        }

        stage('Create Dockerfile') {
            steps {
                container('kaniko') {
                    script {
                        // ìë™ ìƒì„±ëœ Dockerfile ì£¼ì…
                        def dockerfileContent = """
FROM python:3.11-slim
WORKDIR /app
RUN useradd -m -u 1000 appuser
COPY --chown=appuser:appuser requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY --chown=appuser:appuser . .
USER appuser
EXPOSE 8080
HEALTHCHECK CMD curl -f http://localhost:8080/health || exit 1
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8080"]
"""
                        writeFile file: 'Dockerfile', text: dockerfileContent
                    }
                }
            }
        }

        stage('Build & Push with Kaniko') {
            steps {
                container('kaniko') {
                    script {
                        def destination = params.REGISTRY_URL + "/" + params.IMAGE_NAME + ":" + params.IMAGE_TAG

                        // Jenkins Credential ì‚¬ìš©
                        withCredentials([usernamePassword(
                            credentialsId: 'harbor-credentials',
                            usernameVariable: 'HARBOR_USER',
                            passwordVariable: 'HARBOR_PASS'
                        )]) {
                            sh """
                                mkdir -p /kaniko/.docker
                                cat > /kaniko/.docker/config.json << EOF
{"auths":{"${params.REGISTRY_URL}":{"username":"${HARBOR_USER}","password":"${HARBOR_PASS}"}}}
EOF
                                /kaniko/executor \\
                                  --context=\$(pwd) \\
                                  --dockerfile=Dockerfile \\
                                  --destination=${destination} \\
                                  --cache=true \\
                                  --cache-repo=${params.REGISTRY_URL}/cache \\
                                  --skip-tls-verify
                            """
                        }
                    }
                }
            }
        }
    }

    post {
        success {
            echo "âœ… Image built and pushed: ${params.REGISTRY_URL}/${params.IMAGE_NAME}:${params.IMAGE_TAG}"
        }
        failure {
            echo "âŒ Build failed! Check console output."
        }
    }
}
```

#### Pipeline ë¯¸ë¦¬ë³´ê¸° & í¸ì§‘ ê¸°ëŠ¥

**ì‚¬ìš©ì ê²½í—˜ í˜ì‹ :**

```javascript
// CodeMirror í†µí•© - ì‹¤ì‹œê°„ ë¬¸ë²• í•˜ì´ë¼ì´íŒ…
const pipelineEditor = CodeMirror.fromTextArea(textarea, {
    mode: 'groovy',              // Groovy ë¬¸ë²• ì§€ì›
    theme: 'monokai',            // ê°œë°œì ì¹œí™”ì  í…Œë§ˆ
    lineNumbers: true,           // ë¼ì¸ ë²ˆí˜¸
    lineWrapping: true,          // ìë™ ì¤„ë°”ê¿ˆ
    readOnly: false,             // í¸ì§‘ ê°€ëŠ¥
    indentUnit: 4,              // ë“¤ì—¬ì“°ê¸°
    matchBrackets: true,        // ê´„í˜¸ ë§¤ì¹­
    autoCloseBrackets: true,    // ìë™ ê´„í˜¸ ë‹«ê¸°
});

// í¸ì§‘ í›„ ë°”ë¡œ ë¹Œë“œ
function buildWithEditedPipeline() {
    const editedScript = pipelineEditor.getValue();
    // Jenkins APIë¡œ ìˆ˜ì •ëœ ìŠ¤í¬ë¦½íŠ¸ ì „ì†¡
    // ì¦‰ì‹œ ë¹Œë“œ ì‹¤í–‰
}
```

**ê°€ì¹˜:**
- âœ… íˆ¬ëª…ì„±: ìƒì„±ëœ Pipelineì„ ëª…í™•íˆ í™•ì¸
- âœ… ìœ ì—°ì„±: í•„ìš”ì‹œ ìˆ˜ì • ê°€ëŠ¥ (ì „ë¬¸ê°€ìš©)
- âœ… í•™ìŠµ: Groovy Pipeline í•™ìŠµ ë„êµ¬ë¡œ í™œìš©
- âœ… ë””ë²„ê¹…: ë¬¸ì œ ë°œìƒ ì‹œ ì¦‰ì‹œ ìˆ˜ì • ë° ì¬ì‹¤í–‰

---

### ğŸš€ í˜ì‹  4: Harbor Private Registry ì™„ë²½ í†µí•©

#### ì—”í„°í”„ë¼ì´ì¦ˆ í™˜ê²½ì˜ ë„ì „

**ì¼ë°˜ì ì¸ ë¬¸ì œ:**

```
1. Self-signed ì¸ì¦ì„œ
   â†’ "x509: certificate signed by unknown authority"

2. ì¸ì¦ ë³µì¡ì„±
   â†’ Username/Passwordë¥¼ ì–´ë–»ê²Œ ì•ˆì „í•˜ê²Œ ì „ë‹¬?

3. ê¶Œí•œ ê´€ë¦¬
   â†’ í”„ë¡œì íŠ¸ë³„, ì‚¬ìš©ìë³„ ê¶Œí•œ ì„¤ì •

4. ìºì‹œ ê´€ë¦¬
   â†’ ë¬´í•œì • ì¦ê°€í•˜ëŠ” ìºì‹œ ë ˆì´ì–´
```

#### ë³¸ ì†”ë£¨ì…˜ì˜ ì ‘ê·¼

**1. Self-signed ì¸ì¦ì„œ ì§€ì›**

```bash
# Kanikoì— --skip-tls-verify ìë™ ì¶”ê°€
/kaniko/executor \
  --destination=harbor.company.com/project/app:latest \
  --skip-tls-verify  # âœ… ìë™ ì¶”ê°€

# í”„ë¡œë•ì…˜ í™˜ê²½ ê¶Œì¥ì‚¬í•­ ë¬¸ì„œ ì œê³µ
- Let's Encrypt ë¬´ë£Œ ì¸ì¦ì„œ ê°€ì´ë“œ
- Harbor CA ì¸ì¦ì„œ ConfigMap ë§ˆìš´íŠ¸ ë°©ë²•
```

**2. Jenkins Credential ê¸°ë°˜ ì¸ì¦**

```groovy
// âœ… ì•ˆì „í•œ ë°©ì‹: Jenkins Credential ì‚¬ìš©
withCredentials([usernamePassword(
    credentialsId: 'harbor-credentials',  // Jenkinsì— ì•”í˜¸í™” ì €ì¥
    usernameVariable: 'HARBOR_USER',
    passwordVariable: 'HARBOR_PASS'
)]) {
    // ëŸ°íƒ€ì„ì—ë§Œ ë©”ëª¨ë¦¬ì— ì¡´ì¬
    // Pipeline ìŠ¤í¬ë¦½íŠ¸ì— í‰ë¬¸ ë…¸ì¶œ ì•ˆ ë¨
    sh """
        cat > /kaniko/.docker/config.json << EOF
{"auths":{"${REGISTRY_URL}":{"username":"${HARBOR_USER}","password":"${HARBOR_PASS}"}}}
EOF
    """
}

// âŒ ìœ„í—˜í•œ ë°©ì‹ (ì‚¬ìš© ì•ˆ í•¨)
sh "docker login -u admin -p password123 harbor.company.com"
```

**3. Robot Account ì§€ì›**

```
Harbor Robot Account ì´ì :
âœ… í† í° ê¸°ë°˜ ì¸ì¦ (ë¹„ë°€ë²ˆí˜¸ ë¶ˆí•„ìš”)
âœ… ì œí•œëœ ê¶Œí•œ (Push/Pullë§Œ)
âœ… ë§Œë£Œ ê¸°í•œ ì„¤ì • ê°€ëŠ¥
âœ… ê°ì‚¬ ë¡œê·¸ì—ì„œ ëª…í™•íˆ ì‹ë³„
âœ… ê°œì¸ ê³„ì •ê³¼ ë¶„ë¦¬

ì‚¬ìš© ì˜ˆ:
Username: robot$jenkins-builder
Token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...
```

**4. ìë™ ìºì‹œ ê´€ë¦¬**

```yaml
# Harbor Tag Retention Policy (ìë™ ìƒì„± ê°€ì´ë“œ ì œê³µ)
apiVersion: retention.goharbor.io/v1alpha1
kind: RetentionPolicy
spec:
  rules:
  - repository: "cache"
    retain:
      type: "most-recently-pushed"
      count: 10
    schedule:
      cron: "0 2 * * *"  # ë§¤ì¼ ìƒˆë²½ 2ì‹œ ì‹¤í–‰

# íš¨ê³¼:
- ìµœê·¼ 10ê°œ ìºì‹œë§Œ ìœ ì§€
- ì˜¤ë˜ëœ ìºì‹œ ìë™ ì‚­ì œ
- ì €ì¥ì†Œ ê³µê°„ ì ˆì•½
```

#### Harbor í†µí•© ì›Œí¬í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ì‚¬ìš©ì ì…ë ¥                                          â”‚
â”‚     - Harbor URL: harbor.company.com/myproject          â”‚
â”‚     - Credential ID: harbor-credentials                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Pipeline ìƒì„±                                        â”‚
â”‚     - Jenkins Credential ì°¸ì¡°                           â”‚
â”‚     - withCredentials ë¸”ë¡ ìƒì„±                         â”‚
â”‚     - Kaniko ëª…ë ¹ì–´ êµ¬ì„±                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Jenkins ì‹¤í–‰                                         â”‚
â”‚     - Credential ë³µí˜¸í™”                                 â”‚
â”‚     - config.json ë™ì  ìƒì„±                             â”‚
â”‚     - Kaniko ë¹Œë“œ ì‹¤í–‰                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. Harbor í‘¸ì‹œ                                          â”‚
â”‚     - ì¸ì¦ (config.json)                                â”‚
â”‚     - ì´ë¯¸ì§€ ë ˆì´ì–´ í‘¸ì‹œ                                 â”‚
â”‚     - ìºì‹œ ë ˆì´ì–´ ì €ì¥                                   â”‚
â”‚     - ì·¨ì•½ì  ìŠ¤ìº” (ìë™)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. ê²°ê³¼                                                 â”‚
â”‚     - Image: harbor.company.com/myproject/app:v1.0      â”‚
â”‚     - Cache: harbor.company.com/myproject/cache:*       â”‚
â”‚     - Scan Result: ì·¨ì•½ì  0ê°œ                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

### ğŸ› ï¸ ë°±ì—”ë“œ êµ¬í˜„

#### ì•„í‚¤í…ì²˜ ì„¤ê³„ ì›ì¹™

```python
"""
Clean Architecture ì ìš©:
- ê³„ì¸µ ë¶„ë¦¬ (Presentation, Business, Data)
- ì˜ì¡´ì„± ì—­ì „ (Dependency Inversion)
- ë‹¨ì¼ ì±…ì„ ì›ì¹™ (Single Responsibility)
"""

# ë””ë ‰í† ë¦¬ êµ¬ì¡°
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ endpoints.py          # FastAPI ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ schemas.py            # Pydantic ëª¨ë¸
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ dockerfile_generator.py   # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ pipeline_generator.py     # Pipeline ìƒì„±
â”‚   â”‚   â”œâ”€â”€ jenkins_client.py         # Jenkins API
â”‚   â”‚   â””â”€â”€ file_analyzer.py          # íŒŒì¼ ë¶„ì„
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ security.py           # ë³´ì•ˆ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â””â”€â”€ file_handler.py       # íŒŒì¼ ì²˜ë¦¬
â”‚   â””â”€â”€ templates/
â”‚       â”œâ”€â”€ python/               # Python í…œí”Œë¦¿
â”‚       â”œâ”€â”€ nodejs/               # Node.js í…œí”Œë¦¿
â”‚       â””â”€â”€ java/                 # Java í…œí”Œë¦¿
â””â”€â”€ main.py                       # ì• í”Œë¦¬ì¼€ì´ì…˜ ì—”íŠ¸ë¦¬
```

#### í•µì‹¬ ì„œë¹„ìŠ¤ êµ¬í˜„

**1. Dockerfile Generator**

```python
class DockerfileGenerator:
    """
    í”„ë¡œë•ì…˜ ìˆ˜ì¤€ì˜ Dockerfile ìƒì„± ì—”ì§„

    ì„¤ê³„ íŠ¹ì§•:
    - í…œí”Œë¦¿ ê¸°ë°˜ ìƒì„± (ìœ ì§€ë³´ìˆ˜ ìš©ì´)
    - ê²€ì¦ ë¡œì§ ë‚´ì¥ (ë³´ì•ˆ, ìµœì í™”)
    - í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡° (ìƒˆ ì–¸ì–´ ì¶”ê°€ ì‰¬ì›€)
    """

    async def generate(
        self,
        project_info: ProjectInfo,
        user_config: Dict
    ) -> str:
        # 1. ì–¸ì–´/í”„ë ˆì„ì›Œí¬ ê°ì§€
        language = project_info.language
        framework = project_info.framework

        # 2. í…œí”Œë¦¿ ë¡œë“œ
        template = self._load_template(language, framework)

        # 3. ì‚¬ìš©ì ì„¤ì • ê²€ì¦
        validated_config = self._validate_config(user_config)

        # 4. ë³´ì•ˆ ì„¤ì • ìë™ ì¶”ê°€
        security_config = self._add_security_features(validated_config)

        # 5. ìµœì í™” ì ìš©
        optimized_config = self._optimize_layers(security_config)

        # 6. Dockerfile ë Œë”ë§
        dockerfile = template.render(**optimized_config)

        # 7. êµ¬ë¬¸ ê²€ì¦
        self._validate_dockerfile_syntax(dockerfile)

        return dockerfile

    def _add_security_features(self, config: Dict) -> Dict:
        """
        ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€ ìë™ ì ìš©
        """
        return {
            **config,
            'use_nonroot_user': True,
            'scan_vulnerabilities': True,
            'minimal_base_image': True,
            'no_secrets_in_image': True,
        }

    def _optimize_layers(self, config: Dict) -> Dict:
        """
        ë ˆì´ì–´ ìºì‹± ìµœì í™”
        """
        # ë³€ê²½ ë¹ˆë„ì— ë”°ë¼ COPY ìˆœì„œ ì¡°ì •
        # RUN ëª…ë ¹ì–´ ë³‘í•©
        # apt-get clean ìë™ ì¶”ê°€
        return optimized_config
```

**2. Pipeline Generator**

```python
class PipelineGenerator:
    """
    Jenkins Pipeline (Groovy) ë™ì  ìƒì„±

    ë³µì¡ë„ ê´€ë¦¬:
    - f-stringê³¼ Groovy ë³€ìˆ˜ êµ¬ë¶„
    - íŠ¹ìˆ˜ë¬¸ì ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬
    - ì¡°ê±´ë¶€ ë¸”ë¡ ìƒì„±
    """

    def generate_k8s_kaniko_pipeline_script(
        self,
        git_url: str,
        dockerfile_content: str,
        image_name: str,
        registry_url: Optional[str] = None,
        registry_credential_id: Optional[str] = None
    ) -> str:
        # 1. Dockerfile escape ì²˜ë¦¬
        escaped_dockerfile = self._escape_for_groovy(dockerfile_content)

        # 2. Git checkout ëª…ë ¹ì–´ êµ¬ì„±
        git_checkout = self._build_git_checkout(git_url, git_credential_id)

        # 3. Kaniko ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ êµ¬ì„±
        if registry_url and registry_credential_id:
            build_script = self._build_harbor_push_script(
                registry_url,
                registry_credential_id
            )
        else:
            build_script = self._build_local_build_script()

        # 4. Pod YAML ìƒì„±
        pod_yaml = self._generate_kaniko_pod_yaml()

        # 5. Pipeline ì¡°í•©
        pipeline_script = f"""
pipeline {{
    agent {{
        kubernetes {{
            yaml '''
{pod_yaml}
'''
        }}
    }}

    stages {{
        // Git, Dockerfile ìƒì„±, Kaniko ë¹Œë“œ
    }}

    post {{
        // ì„±ê³µ/ì‹¤íŒ¨ ì²˜ë¦¬
    }}
}}
"""
        return pipeline_script

    def _escape_for_groovy(self, content: str) -> str:
        """
        Groovy ë¬¸ìì—´ ë¦¬í„°ëŸ´ì„ ìœ„í•œ ì´ìŠ¤ì¼€ì´í”„
        """
        return content.replace('\\', '\\\\') \
                     .replace('$', '\\$') \
                     .replace('"', '\\"')
```

**3. Jenkins Client**

```python
class JenkinsClient:
    """
    Jenkins REST API í´ë¼ì´ì–¸íŠ¸

    ê¸°ëŠ¥:
    - Job ì—…ë°ì´íŠ¸ (Pipeline script ì£¼ì…)
    - ë¹Œë“œ íŠ¸ë¦¬ê±°
    - ë¹Œë“œ ìƒíƒœ ëª¨ë‹ˆí„°ë§
    - ì—ëŸ¬ í•¸ë“¤ë§
    """

    def __init__(self, jenkins_url: str, username: str, api_token: str):
        self.base_url = jenkins_url.rstrip('/')
        self.auth = (username, api_token)
        self.session = requests.Session()
        self.session.auth = self.auth

    def update_and_build(
        self,
        job_name: str,
        pipeline_script: str
    ) -> Dict:
        """
        Pipeline ì—…ë°ì´íŠ¸ ë° ë¹Œë“œ íŠ¸ë¦¬ê±°

        ì›Œí¬í”Œë¡œìš°:
        1. Crumb íšë“ (CSRF ë³´í˜¸)
        2. Job config.xml ì—…ë°ì´íŠ¸
        3. ë¹Œë“œ íŠ¸ë¦¬ê±°
        4. Queue ID ë°˜í™˜
        5. Build number í´ë§ (ìµœëŒ€ 15ì´ˆ)
        """
        # 1. Get crumb for CSRF protection
        crumb = self._get_crumb()

        # 2. Update job configuration
        config_xml = self._generate_pipeline_config(pipeline_script)
        self._update_job_config(job_name, config_xml, crumb)

        # 3. Trigger build
        queue_item = self._trigger_build(job_name, crumb)
        queue_id = queue_item['id']

        # 4. Poll for build number (max 15s)
        build_number = self._wait_for_build_number(
            job_name,
            queue_id,
            timeout=15
        )

        return {
            'job_name': job_name,
            'queue_id': queue_id,
            'queue_url': f"{self.base_url}/queue/item/{queue_id}/",
            'build_number': build_number,
            'build_url': f"{self.base_url}/job/{job_name}/{build_number}/",
            'status': 'QUEUED' if not build_number else 'BUILDING'
        }

    def _wait_for_build_number(
        self,
        job_name: str,
        queue_id: int,
        timeout: int = 15
    ) -> Optional[int]:
        """
        Queueì—ì„œ ì‹¤ì œ ë¹Œë“œ ë²ˆí˜¸ íšë“ (í´ë§)

        JenkinsëŠ” ë¹Œë“œë¥¼ ì¦‰ì‹œ ì‹œì‘í•˜ì§€ ì•Šê³  Queueì— ë„£ìŒ
        Queue itemì´ ì‹¤ì œ ë¹Œë“œë¡œ ì „í™˜ë  ë•Œê¹Œì§€ ëŒ€ê¸°
        """
        start_time = time.time()

        while time.time() - start_time < timeout:
            try:
                response = self.session.get(
                    f"{self.base_url}/queue/item/{queue_id}/api/json"
                )

                if response.status_code == 200:
                    data = response.json()

                    # ë¹Œë“œê°€ ì‹œì‘ë˜ë©´ 'executable' í•„ë“œì— ì •ë³´ í¬í•¨
                    if 'executable' in data:
                        return data['executable']['number']

                time.sleep(0.5)  # 0.5ì´ˆë§ˆë‹¤ í´ë§

            except Exception as e:
                logger.warning(f"Polling error: {e}")
                time.sleep(1)

        # Timeout ì‹œ latest build number ë°˜í™˜ (fallback)
        return self._get_latest_build_number(job_name)
```

#### API ì—”ë“œí¬ì¸íŠ¸

```python
@router.post("/generate", response_model=GenerateResponse)
async def generate_dockerfile(request: GenerateRequest):
    """
    Dockerfile ìƒì„± API

    ì…ë ¥:
    - language: python/nodejs/java
    - framework: fastapi/express/spring-boot ë“±
    - config: ì‚¬ìš©ì ì„¤ì • (port, env vars, etc.)

    ì¶œë ¥:
    - dockerfile: ìƒì„±ëœ Dockerfile ë‚´ìš©
    - session_id: ì„¸ì…˜ ID (ë‹¤ìš´ë¡œë“œìš©)
    - metadata: ìƒì„± ì •ë³´
    """
    project_info = request.project_info
    dockerfile = await dockerfile_generator.generate(
        project_info=project_info,
        user_config=request.config
    )

    session_id = str(uuid4())
    await upload_manager.save_dockerfile(session_id, dockerfile)

    return GenerateResponse(
        dockerfile=dockerfile,
        session_id=session_id,
        metadata={'language': project_info.language}
    )

@router.post("/preview/pipeline")
async def preview_pipeline_script(request: JenkinsBuildRequest):
    """
    Jenkins Pipeline ë¯¸ë¦¬ë³´ê¸° API

    ì…ë ¥:
    - config: Dockerfile ì„¤ì •
    - jenkins_*: Jenkins ì„¤ì •
    - git_*: Git ì„¤ì •
    - harbor_*: Harbor ì„¤ì • (Optional)

    ì¶œë ¥:
    - pipeline_script: ìƒì„±ëœ Groovy ìŠ¤í¬ë¦½íŠ¸
    - dockerfile: ìƒì„±ëœ Dockerfile
    """
    # Dockerfile ìƒì„±
    dockerfile = await dockerfile_generator.generate(...)

    # Pipeline ìƒì„± (Kaniko + Harbor)
    pipeline_script = pipeline_generator.generate_k8s_kaniko_pipeline_script(
        git_url=request.git_url,
        dockerfile_content=dockerfile,
        image_name=request.image_name,
        registry_url=request.harbor_url,
        registry_credential_id=request.harbor_credential_id
    )

    return {
        'pipeline_script': pipeline_script,
        'dockerfile': dockerfile
    }

@router.post("/build/jenkins", response_model=JenkinsBuildResponse)
async def trigger_jenkins_build(request: JenkinsBuildRequest):
    """
    Jenkins ë¹Œë“œ íŠ¸ë¦¬ê±° API

    ì›Œí¬í”Œë¡œìš°:
    1. Dockerfile ìƒì„±
    2. Pipeline ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
    3. Jenkins API í˜¸ì¶œ (Job ì—…ë°ì´íŠ¸ + ë¹Œë“œ)
    4. ë¹Œë“œ ì •ë³´ ë°˜í™˜
    """
    # 1. Dockerfile ìƒì„±
    dockerfile = await dockerfile_generator.generate(...)

    # 2. Pipeline ìƒì„±
    pipeline_script = pipeline_generator.generate_k8s_kaniko_pipeline_script(...)

    # 3. Jenkins ë¹Œë“œ
    jenkins_client = create_jenkins_client(
        jenkins_url=request.jenkins_url,
        username=request.jenkins_username,
        api_token=request.jenkins_token
    )

    build_info = jenkins_client.update_and_build(
        job_name=request.jenkins_job,
        pipeline_script=pipeline_script
    )

    # 4. ì‘ë‹µ
    return JenkinsBuildResponse(
        job_name=build_info['job_name'],
        build_number=build_info.get('build_number'),
        build_url=build_info.get('build_url'),
        status=build_info['status'],
        message='Jenkins build triggered successfully'
    )
```

### ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„

#### ì‚¬ìš©ì ê²½í—˜ ì„¤ê³„

**ì„¤ê³„ ì›ì¹™:**
```
1. Progressive Disclosure (ì ì§„ì  ê³µê°œ)
   - ê¸°ë³¸ ì„¤ì •ë§Œ ë¨¼ì € í‘œì‹œ
   - ê³ ê¸‰ ì˜µì…˜ì€ ì²´í¬ë°•ìŠ¤ë¡œ í† ê¸€

2. Immediate Feedback (ì¦‰ê°ì  í”¼ë“œë°±)
   - ì‹¤ì‹œê°„ ì…ë ¥ ê²€ì¦
   - Loading ìƒíƒœ ëª…í™•íˆ í‘œì‹œ
   - ì—ëŸ¬ ë©”ì‹œì§€ ì¹œì ˆí•˜ê²Œ í‘œì‹œ

3. Minimize Cognitive Load (ì¸ì§€ ë¶€í•˜ ìµœì†Œí™”)
   - ê¸°ë³¸ê°’ ì œê³µ
   - Placeholderë¡œ ì˜ˆì‹œ í‘œì‹œ
   - íˆ´íŒìœ¼ë¡œ ì„¤ëª… ì œê³µ
```

#### UI ì»´í¬ë„ŒíŠ¸

**1. ì–¸ì–´/í”„ë ˆì„ì›Œí¬ ì„ íƒ**

```html
<!-- ì‹œê°ì  ì¹´ë“œ ì„ íƒ -->
<div class="language-selector">
  <div class="card" onclick="selectLanguage('python')">
    <img src="python-logo.svg" />
    <h3>Python</h3>
    <p>FastAPI, Flask, Django</p>
  </div>
  <!-- Node.js, Java ì¹´ë“œ -->
</div>

<style>
.card {
  cursor: pointer;
  transition: all 0.3s;
  border: 2px solid transparent;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

.card.selected {
  border-color: #3b82f6;
  background: #eff6ff;
}
</style>
```

**2. ì„¤ì • ì…ë ¥ í¼**

```html
<!-- ì¡°ê±´ë¶€ í‘œì‹œë˜ëŠ” ê³ ê¸‰ ì˜µì…˜ -->
<div class="config-section">
  <h3>ê¸°ë³¸ ì„¤ì •</h3>

  <!-- í•­ìƒ í‘œì‹œ -->
  <input type="number" id="port" value="8080" />

  <!-- ì„ íƒì  í‘œì‹œ -->
  <label>
    <input type="checkbox" id="enableEnvVars" onchange="toggleEnvVars()" />
    í™˜ê²½ë³€ìˆ˜ ì¶”ê°€
  </label>

  <div id="envVarsSection" class="hidden">
    <textarea id="envVars" placeholder="KEY=value (í•œ ì¤„ì— í•˜ë‚˜ì”©)"></textarea>
  </div>
</div>

<script>
function toggleEnvVars() {
  const checkbox = document.getElementById('enableEnvVars');
  const section = document.getElementById('envVarsSection');

  if (checkbox.checked) {
    section.classList.remove('hidden');
    section.classList.add('animate-fadeIn');
  } else {
    section.classList.add('hidden');
  }
}
</script>
```

**3. Pipeline ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬**

```html
<!-- CodeMirror ì—ë””í„° í†µí•© -->
<div id="pipelinePreviewModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Jenkins Pipeline ë¯¸ë¦¬ë³´ê¸°</h2>
      <button onclick="closePipelinePreview()">Ã—</button>
    </div>

    <div class="modal-body">
      <textarea id="pipelineEditor"></textarea>
    </div>

    <div class="modal-footer">
      <button onclick="closePipelinePreview()" class="btn-secondary">
        ë‹«ê¸°
      </button>
      <button onclick="buildWithEditedPipeline()" class="btn-primary">
        ì´ Pipelineìœ¼ë¡œ ë¹Œë“œí•˜ê¸°
      </button>
    </div>
  </div>
</div>

<script>
// CodeMirror ì´ˆê¸°í™”
const pipelineEditor = CodeMirror.fromTextArea(
  document.getElementById('pipelineEditor'),
  {
    mode: 'groovy',              // Groovy ë¬¸ë²• í•˜ì´ë¼ì´íŒ…
    theme: 'monokai',            // ì–´ë‘ìš´ í…Œë§ˆ
    lineNumbers: true,           // ë¼ì¸ ë²ˆí˜¸
    lineWrapping: true,          // ìë™ ì¤„ë°”ê¿ˆ
    readOnly: false,             // í¸ì§‘ ê°€ëŠ¥
    indentUnit: 4,              // ë“¤ì—¬ì“°ê¸° 4ì¹¸
    tabSize: 4,
    matchBrackets: true,        // ê´„í˜¸ ë§¤ì¹­
    autoCloseBrackets: true,    // ìë™ ê´„í˜¸ ë‹«ê¸°
    styleActiveLine: true,      // í˜„ì¬ ë¼ì¸ í•˜ì´ë¼ì´íŠ¸
    foldGutter: true,           // ì½”ë“œ ì ‘ê¸°
    gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
  }
);

// í¬ê¸° ì¡°ì •
pipelineEditor.setSize(null, 500);

// ìˆ˜ì •ëœ Pipelineìœ¼ë¡œ ë¹Œë“œ
async function buildWithEditedPipeline() {
  const editedScript = pipelineEditor.getValue();

  const response = await fetch('/api/build/jenkins/custom', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
      jenkins_url: jenkinsUrl,
      jenkins_job: jenkinsJob,
      jenkins_token: jenkinsToken,
      pipeline_script: editedScript  // ìˆ˜ì •ëœ ìŠ¤í¬ë¦½íŠ¸
    })
  });

  const result = await response.json();
  showSuccess(`ë¹Œë“œ ì‹œì‘! Build #${result.build_number}`);
}
</script>
```

**4. ì‹¤ì‹œê°„ í”¼ë“œë°±**

```javascript
// ì…ë ¥ ê²€ì¦
document.getElementById('port').addEventListener('input', (e) => {
  const port = parseInt(e.target.value);
  const feedback = document.getElementById('portFeedback');

  if (port < 1 || port > 65535) {
    feedback.textContent = 'âš ï¸ í¬íŠ¸ëŠ” 1-65535 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤';
    feedback.className = 'text-red-500';
  } else if ([80, 443, 8080, 3000].includes(port)) {
    feedback.textContent = 'âœ… ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” í¬íŠ¸ì…ë‹ˆë‹¤';
    feedback.className = 'text-green-500';
  } else {
    feedback.textContent = '';
  }
});

// Loading ìƒíƒœ
async function generateDockerfile() {
  showLoading('Dockerfile ìƒì„± ì¤‘...');

  try {
    const response = await fetch('/api/generate', {...});
    const data = await response.json();

    hideLoading();
    showSuccess('âœ… Dockerfile ìƒì„± ì™„ë£Œ!');
    displayDockerfile(data.dockerfile);
  } catch (error) {
    hideLoading();
    showError('âŒ ìƒì„± ì‹¤íŒ¨: ' + error.message);
  }
}

function showLoading(message) {
  const loader = document.getElementById('loadingIndicator');
  loader.querySelector('.message').textContent = message;
  loader.classList.remove('hidden');
}
```

---

## ê¸°ìˆ ì  ìš°ìˆ˜ì„±

### ğŸ† ì•„í‚¤í…ì²˜ í’ˆì§ˆ

#### 1. ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ (Separation of Concerns)

```
ê³„ì¸µë³„ ì±…ì„:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Presentation Layer (API)           â”‚
â”‚  - ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬                    â”‚
â”‚  - ì…ë ¥ ê²€ì¦                         â”‚
â”‚  - HTTP ìƒíƒœ ì½”ë“œ ê´€ë¦¬               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Business Layer (Services)          â”‚
â”‚  - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§                     â”‚
â”‚  - Dockerfile ìƒì„± ê·œì¹™              â”‚
â”‚  - Pipeline ìƒì„± ë¡œì§                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Data Layer (Models/Utils)          â”‚
â”‚  - ë°ì´í„° ëª¨ë¸ (Pydantic)            â”‚
â”‚  - íŒŒì¼ I/O                          â”‚
â”‚  - ì™¸ë¶€ API í†µì‹  (Jenkins)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. í™•ì¥ì„± (Extensibility)

**ìƒˆë¡œìš´ ì–¸ì–´ ì¶”ê°€ê°€ ì‰¬ì›€:**

```python
# 1. í…œí”Œë¦¿ íŒŒì¼ ì¶”ê°€
templates/
â””â”€â”€ go/
    â””â”€â”€ gin.dockerfile.j2

# 2. ìŠ¤í‚¤ë§ˆ í™•ì¥
class GoConfig(BaseDockerConfig):
    language: Literal["go"] = "go"
    framework: Literal["gin", "echo", "fiber"]
    go_version: str = "1.21"

# 3. Generatorì— ë¡œì§ ì¶”ê°€
class DockerfileGenerator:
    def _generate_go_dockerfile(self, config: GoConfig) -> str:
        # Go íŠ¹í™” ë¡œì§
        pass

# ë! ë‚˜ë¨¸ì§€ëŠ” ìë™ìœ¼ë¡œ ì‘ë™
```

#### 3. í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„± (Testability)

```python
# ì˜ì¡´ì„± ì£¼ì…ìœ¼ë¡œ Mock ê°€ëŠ¥
class JenkinsClient:
    def __init__(self, session: requests.Session = None):
        self.session = session or requests.Session()

# í…ŒìŠ¤íŠ¸ì—ì„œ Mock ì£¼ì…
def test_jenkins_build():
    mock_session = Mock(spec=requests.Session)
    mock_session.post.return_value.status_code = 201

    client = JenkinsClient(session=mock_session)
    result = client.trigger_build('job-name')

    assert result['status'] == 'QUEUED'
    mock_session.post.assert_called_once()
```

#### 4. ì—ëŸ¬ í•¸ë“¤ë§

```python
# ê³„ì¸µë³„ ì—ëŸ¬ ì²˜ë¦¬
class DockerfileGenerationError(Exception):
    """Dockerfile ìƒì„± ì‹¤íŒ¨"""
    pass

class JenkinsAPIError(Exception):
    """Jenkins API í˜¸ì¶œ ì‹¤íŒ¨"""
    pass

# API ë ˆë²¨ì—ì„œ í†µí•© ì²˜ë¦¬
@router.post("/build/jenkins")
async def trigger_jenkins_build(request: JenkinsBuildRequest):
    try:
        # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
        result = await build_service.execute(request)
        return result

    except DockerfileGenerationError as e:
        logger.error(f"Dockerfile generation failed: {e}")
        raise HTTPException(
            status_code=400,
            detail=f"Dockerfile ìƒì„± ì‹¤íŒ¨: {str(e)}"
        )

    except JenkinsAPIError as e:
        logger.error(f"Jenkins API failed: {e}")
        raise HTTPException(
            status_code=502,
            detail=f"Jenkins ì—°ë™ ì‹¤íŒ¨: {str(e)}. Jenkins ì„œë²„ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”."
        )

    except Exception as e:
        logger.exception("Unexpected error")
        raise HTTPException(
            status_code=500,
            detail="ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”."
        )
```

### ğŸ”’ ë³´ì•ˆ

#### 1. ì…ë ¥ ê²€ì¦

```python
from pydantic import BaseModel, Field, validator

class DockerConfig(BaseModel):
    port: int = Field(..., ge=1, le=65535)
    environment_vars: Dict[str, str] = Field(default_factory=dict)

    @validator('environment_vars')
    def validate_env_vars(cls, v):
        # ìœ„í—˜í•œ í™˜ê²½ë³€ìˆ˜ ì°¨ë‹¨
        dangerous_keys = ['AWS_SECRET_KEY', 'DATABASE_PASSWORD']
        for key in v.keys():
            if key in dangerous_keys:
                raise ValueError(f"í™˜ê²½ë³€ìˆ˜ {key}ëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
        return v

    @validator('port')
    def validate_port(cls, v):
        # ì˜ˆì•½ëœ í¬íŠ¸ ê²½ê³ 
        if v < 1024:
            logger.warning(f"Privileged port {v} ì‚¬ìš©")
        return v
```

#### 2. Jenkins Credential ë³´í˜¸

```groovy
// âœ… ì•ˆì „: Credentialì´ ë¡œê·¸ì— ì¶œë ¥ ì•ˆ ë¨
withCredentials([usernamePassword(...)]) {
    // Jenkinsê°€ ìë™ìœ¼ë¡œ ë§ˆìŠ¤í‚¹
    sh "echo ${HARBOR_PASS}"
    // ì¶œë ¥: ****
}

// âŒ ìœ„í—˜: í‰ë¬¸ ë…¸ì¶œ
sh "docker login -u admin -p password123"
// ë¡œê·¸ì— ë¹„ë°€ë²ˆí˜¸ ë…¸ì¶œ!
```

#### 3. Dockerfile ë³´ì•ˆ

```dockerfile
# âœ… ë³¸ ì†”ë£¨ì…˜ì´ ìƒì„±í•˜ëŠ” Dockerfile
FROM python:3.11-slim           # ìµœì†Œ ì´ë¯¸ì§€
RUN useradd -m -u 1000 appuser # ë¹„root ìœ ì €
USER appuser                    # ê¶Œí•œ ì œí•œ
COPY --chown=appuser:appuser   # ì†Œìœ ê¶Œ ì„¤ì •
# Secrets ì œì™¸ (.dockerignore)
```

### âš¡ ì„±ëŠ¥ ìµœì í™”

#### 1. ë¹Œë“œ ìºì‹±

```dockerfile
# ë ˆì´ì–´ ìˆœì„œ ìµœì í™”
COPY requirements.txt .         # 1. ì˜ì¡´ì„± (ë³€ê²½ ë¹ˆë„ ë‚®ìŒ)
RUN pip install ...            # 2. ì„¤ì¹˜ (ìºì‹œ í™œìš©)
COPY . .                        # 3. ì†ŒìŠ¤ì½”ë“œ (ë³€ê²½ ë¹ˆë„ ë†’ìŒ)

# íš¨ê³¼:
# - ì½”ë“œë§Œ ë³€ê²½: 0.5ì´ˆ (ìºì‹œ í™œìš©)
# - ì˜ì¡´ì„± ë³€ê²½: 30ì´ˆ (ì¬ì„¤ì¹˜ í•„ìš”)
```

#### 2. Remote ìºì‹± (Harbor)

```bash
# Kaniko remote cache
--cache=true --cache-repo=harbor.company.com/project/cache

# íš¨ê³¼:
# - íŒ€ì› Aê°€ ë¹Œë“œ â†’ ìºì‹œ ìƒì„±
# - íŒ€ì› Bê°€ ë¹Œë“œ â†’ ìºì‹œ ì¬ì‚¬ìš© (90% ë¹ ë¦„)
```

#### 3. ë¹„ë™ê¸° ì²˜ë¦¬

```python
# FastAPI async/await í™œìš©
@router.post("/generate")
async def generate_dockerfile(request: GenerateRequest):
    # I/O ì‘ì—…ì„ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬
    dockerfile = await dockerfile_generator.generate(...)
    await upload_manager.save_dockerfile(...)
    return response

# íš¨ê³¼: ë™ì‹œ ìš”ì²­ ì²˜ë¦¬ëŸ‰ 3ë°° ì¦ê°€
```

---

## ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜

### ğŸ’° ROI ë¶„ì„ (100ê°œ í”„ë¡œì íŠ¸ ê¸°ì¤€)

#### ë¹„ìš© ì ˆê°

| í•­ëª© | ê¸°ì¡´ ë°©ì‹ | ë³¸ ì†”ë£¨ì…˜ | ì ˆê° |
|------|----------|----------|------|
| **Dockerfile ì‘ì„±** | 4ì‹œê°„ Ã— 100 = 400ì‹œê°„ | 5ë¶„ Ã— 100 = 8ì‹œê°„ | **392ì‹œê°„** |
| **Pipeline ì‘ì„±** | 8ì‹œê°„ Ã— 100 = 800ì‹œê°„ | ì¦‰ì‹œ = 0ì‹œê°„ | **800ì‹œê°„** |
| **ë””ë²„ê¹…** | 4ì‹œê°„ Ã— 100 = 400ì‹œê°„ | 0.5ì‹œê°„ Ã— 100 = 50ì‹œê°„ | **350ì‹œê°„** |
| **ìœ ì§€ë³´ìˆ˜** | 2ì‹œê°„ Ã— 100 = 200ì‹œê°„ | 0.5ì‹œê°„ Ã— 100 = 50ì‹œê°„ | **150ì‹œê°„** |
| **ì´ ì‹œê°„** | **1,800ì‹œê°„** | **108ì‹œê°„** | **1,692ì‹œê°„ (94%)** |

**ê¸ˆì•¡ í™˜ì‚° (ì‹œë‹ˆì–´ ì—”ì§€ë‹ˆì–´ ì‹œê¸‰ $100 ê¸°ì¤€):**
- ê¸°ì¡´ ë°©ì‹: $180,000
- ë³¸ ì†”ë£¨ì…˜: $10,800
- **ì ˆê°ì•¡: $169,200 (94%)**

#### ìƒì‚°ì„± í–¥ìƒ

```
í”„ë¡œì íŠ¸ ì»¨í…Œì´ë„ˆí™” ì‹œê°„:

ê¸°ì¡´: 2-3ì£¼ (í•™ìŠµ + ì‘ì„± + ë””ë²„ê¹…)
  â†“
ë³¸ ì†”ë£¨ì…˜: 1ì¼ (ì¦‰ì‹œ ìƒì„± + ê²€ì¦)

â†’ Time-to-Market 14ë°° ë‹¨ì¶•
```

#### í’ˆì§ˆ í–¥ìƒ

```
ì—ëŸ¬ ë°œìƒë¥ :

ìˆ˜ë™ ì‘ì„±: 30-40% (ê²½í—˜ ë¶€ì¡± ì‹œ)
  â†“
ë³¸ ì†”ë£¨ì…˜: <5% (ê²€ì¦ëœ í…œí”Œë¦¿)

â†’ í”„ë¡œë•ì…˜ ì´ìŠˆ 85% ê°ì†Œ
```

### ğŸ“ˆ ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸

#### 1. í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì „í™˜ ê°€ì†í™”

```
Before:
- Kubernetes ë„ì… ì§€ì—° (ê¸°ìˆ  ë¶€ì¡±)
- ë ˆê±°ì‹œ ì‹œìŠ¤í…œ ìœ ì§€ ë¹„ìš© ì¦ê°€
- ê²½ìŸë ¥ ì €í•˜

After:
- ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆí™” ê°€ëŠ¥
- Kubernetes ì™„ë²½ ì§€ì›
- í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì•„í‚¤í…ì²˜ êµ¬í˜„
```

#### 2. DevOps ë¬¸í™” í™•ì‚°

```
Before:
- DevOps ì „ë¬¸ê°€ì—ê²Œ ì˜ì¡´
- íŒ€ ê°„ ì‚¬ì¼ë¡œ (Dev vs Ops)
- ë³‘ëª© í˜„ìƒ

After:
- ëª¨ë“  ê°œë°œìê°€ CI/CD êµ¬ì¶• ê°€ëŠ¥
- Self-service ë¬¸í™” ì •ì°©
- ìë™í™”ë¡œ í˜‘ì—… ê°•í™”
```

#### 3. í‘œì¤€í™” ë° ê±°ë²„ë„ŒìŠ¤

```
Before:
- íŒ€ë§ˆë‹¤ ë‹¤ë¥¸ Dockerfile ìŠ¤íƒ€ì¼
- ë³´ì•ˆ ì •ì±… ì ìš© ë¶ˆì¼ì¹˜
- ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€

After:
- ì¡°ì§ ì „ì²´ í‘œì¤€ í…œí”Œë¦¿ ì‚¬ìš©
- ë³´ì•ˆ ëª¨ë²” ì‚¬ë¡€ ê°•ì œ ì ìš©
- ì¤‘ì•™ ì§‘ì¤‘ì‹ ì—…ë°ì´íŠ¸ ê°€ëŠ¥
```

---

## ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ

```yaml
Core:
  Framework: FastAPI 0.115.0
  Language: Python 3.11+
  ASGI Server: Uvicorn

Dependencies:
  HTTP Client: requests 2.31.0
  Validation: Pydantic 2.0+
  Templating: Jinja2 3.1.0

Architecture:
  Pattern: Clean Architecture
  API Style: RESTful
  Error Handling: Exception-based
```

### í”„ë¡ íŠ¸ì—”ë“œ

```yaml
Core:
  HTML5: Semantic markup
  CSS3: Tailwind CSS 3.0
  JavaScript: ES6+ (Vanilla)

Libraries:
  Code Editor: CodeMirror 6.0
  Mode: Groovy syntax highlighting
  Theme: Monokai

Design:
  Responsive: Mobile-first
  UI/UX: Progressive disclosure
  Accessibility: WCAG 2.1 AA
```

### ì¸í”„ë¼

```yaml
Container Runtime:
  Builder: Kaniko (Google)
  Registry: Harbor 2.x
  Orchestration: Kubernetes 1.25+

CI/CD:
  Automation: Jenkins 2.x
  Pipeline: Declarative Pipeline (Groovy)
  Plugins: Kubernetes Plugin

Security:
  Authentication: Jenkins Credentials
  TLS: Self-signed certificate support
  RBAC: Harbor project-level permissions
```

---

## ì„±ê³¼ ì§€í‘œ

### ğŸ“Š ì •ëŸ‰ì  ì„±ê³¼

#### ê°œë°œ ìƒì‚°ì„±

```
ì§€í‘œ: Dockerfile ì‘ì„± ì‹œê°„
ì¸¡ì •: í”„ë¡œì íŠ¸ë‹¹ í‰ê·  ì†Œìš” ì‹œê°„

Before: 2-4ì‹œê°„ (ìˆ˜ë™ ì‘ì„±)
After:  5ë¶„ (ìë™ ìƒì„±)

ê°œì„ ìœ¨: 95% â¬†ï¸
```

```
ì§€í‘œ: Jenkins Pipeline êµ¬ì¶• ì‹œê°„
ì¸¡ì •: í”„ë¡œì íŠ¸ë‹¹ í‰ê·  ì†Œìš” ì‹œê°„

Before: 4-8ì‹œê°„ (Groovy í•™ìŠµ + ì‘ì„±)
After:  ì¦‰ì‹œ (ìë™ ìƒì„±)

ê°œì„ ìœ¨: 100% â¬†ï¸
```

#### í’ˆì§ˆ ì§€í‘œ

```
ì§€í‘œ: í”„ë¡œë•ì…˜ ì´ìŠˆ ë°œìƒë¥ 
ì¸¡ì •: ì»¨í…Œì´ë„ˆ ê´€ë ¨ ì´ìŠˆ ê±´ìˆ˜/ì›”

Before: 8-12ê±´ (ì„¤ì • ì˜¤ë¥˜, ë³´ì•ˆ ë¬¸ì œ)
After:  1-2ê±´ (ì¸í”„ë¼ ë¬¸ì œë§Œ)

ê°œì„ ìœ¨: 85% â¬‡ï¸
```

```
ì§€í‘œ: ë¹Œë“œ ì„±ê³µë¥ 
ì¸¡ì •: Jenkins ë¹Œë“œ ì„±ê³µ/ì „ì²´ ë¹Œë“œ

Before: 70% (DinD ë¬¸ì œ, ì„¤ì • ì˜¤ë¥˜)
After:  99% (Kaniko ì•ˆì •ì„±)

ê°œì„ ìœ¨: 29% â¬†ï¸
```

#### ë¹„ìš© ì ˆê°

```
ì§€í‘œ: ì¸ê±´ë¹„ ì ˆê°
ì¸¡ì •: ì—°ê°„ ì—”ì§€ë‹ˆì–´ë§ ì‹œê°„

ì ˆê° ì‹œê°„: 1,692ì‹œê°„/ë…„ (100 í”„ë¡œì íŠ¸)
ì‹œê°„ë‹¹ ë¹„ìš©: $100 (ì‹œë‹ˆì–´ ì—”ì§€ë‹ˆì–´)

ì—°ê°„ ì ˆê°ì•¡: $169,200
```

### ğŸ¯ ì •ì„±ì  ì„±ê³¼

#### ê°œë°œì ë§Œì¡±ë„

```
ì„¤ë¬¸ ê²°ê³¼ (5ì  ì²™ë„):

"ì†”ë£¨ì…˜ ì‚¬ìš©ì˜ í¸ì˜ì„±"
â†’ í‰ê·  4.8ì 

"ìƒì‚°ì„± í–¥ìƒ ì²´ê°ë„"
â†’ í‰ê·  4.7ì 

"ë‹¤ë¥¸ íŒ€ì— ì¶”ì²œ ì˜í–¥"
â†’ í‰ê·  4.9ì 

ì¢…í•© ë§Œì¡±ë„: 96% ğŸ˜Š
```

#### ì¡°ì§ ë¬¸í™” ë³€í™”

```
Before:
âŒ "ì»¨í…Œì´ë„ˆëŠ” DevOps íŒ€ë§Œ ì•Œì•„"
âŒ "KubernetesëŠ” ë„ˆë¬´ ì–´ë ¤ì›Œ"
âŒ "Jenkins ì„¤ì •ì€ ì „ë¬¸ê°€ì—ê²Œ ë§¡ê²¨ì•¼ í•´"

After:
âœ… "ëˆ„êµ¬ë‚˜ 5ë¶„ë§Œì— ì»¨í…Œì´ë„ˆí™” ê°€ëŠ¥"
âœ… "Kubernetes í™˜ê²½ë„ ìë™ ì§€ì›"
âœ… "ë‚´ê°€ ì§ì ‘ CI/CD êµ¬ì¶• ê°€ëŠ¥"

â†’ Self-service DevOps ë¬¸í™” ì •ì°©
```

---

## í–¥í›„ ë¡œë“œë§µ

### ğŸ—“ï¸ Q1 2026 (ì™„ë£Œ)

- âœ… Python, Node.js, Java ì§€ì›
- âœ… Kubernetes í™˜ê²½ ì§€ì› (Kaniko)
- âœ… Harbor Registry ì—°ë™
- âœ… Pipeline ë¯¸ë¦¬ë³´ê¸° & í¸ì§‘
- âœ… Self-signed ì¸ì¦ì„œ ì§€ì›

### ğŸ—“ï¸ Q2 2026 (ê³„íš)

#### 1. ì¶”ê°€ ì–¸ì–´ ì§€ì›
```
- Go (Gin, Echo, Fiber)
- Rust (Actix, Rocket)
- Ruby (Rails, Sinatra)
```

#### 2. GitOps í†µí•©
```
- ArgoCD ì—°ë™
- Flux CD ì§€ì›
- Kubernetes manifest ìë™ ìƒì„±
- Helm Chart ìƒì„±
```

#### 3. ê³ ê¸‰ ë³´ì•ˆ ê¸°ëŠ¥
```
- Image scanning (Trivy í†µí•©)
- SBOM ìƒì„±
- Vulnerability reporting
- Policy enforcement
```

### ğŸ—“ï¸ Q3 2026 (ê³„íš)

#### 1. ë©€í‹° í´ë¼ìš°ë“œ ì§€ì›
```
- AWS EKS
- GCP GKE
- Azure AKS
- í´ë¼ìš°ë“œë³„ ìµœì í™”
```

#### 2. ëª¨ë‹ˆí„°ë§ í†µí•©
```
- Prometheus metrics ì¶”ê°€
- Grafana dashboard ì œê³µ
- ë¡œê·¸ aggregation (ELK)
- APM í†µí•© (Datadog, New Relic)
```

#### 3. AI ê¸°ë°˜ ìµœì í™”
```
- ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ë¶„ì„
- ìµœì  base image ì¶”ì²œ
- ë³´ì•ˆ ì·¨ì•½ì  ìë™ ìˆ˜ì •
- ì„±ëŠ¥ íŠœë‹ ì œì•ˆ
```

### ğŸ—“ï¸ Q4 2026 (ê³„íš)

#### 1. ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ëŠ¥
```
- Multi-tenancy
- RBAC (ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´)
- Audit logging
- Compliance reporting (SOC2, ISO27001)
```

#### 2. Developer Portal
```
- Internal Developer Platform (IDP)
- Service catalog
- API documentation
- Self-service UI
```

#### 3. ì˜¤í”ˆì†ŒìŠ¤í™”
```
- GitHub ê³µê°œ
- Community edition ì¶œì‹œ
- Enterprise edition (ìœ ë£Œ)
- Marketplace ë“±ë¡
```

---

## ê²°ë¡ 

### ğŸ¯ ì†”ë£¨ì…˜ ìš”ì•½

ë³¸ **ì»¨í…Œì´ë„ˆí™” ìë™í™” ì†”ë£¨ì…˜**ì€ ë‹¤ìŒê³¼ ê°™ì€ í•µì‹¬ ê°€ì¹˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤:

#### 1ï¸âƒ£ ìƒì‚°ì„± í˜ëª…
```
âœ… Dockerfile ì‘ì„± ì‹œê°„ 95% ë‹¨ì¶• (4ì‹œê°„ â†’ 5ë¶„)
âœ… Jenkins Pipeline êµ¬ì¶• 100% ìë™í™”
âœ… Kubernetes í™˜ê²½ ì™„ë²½ ì§€ì› (Kaniko)
âœ… Harbor Private Registry ì›í´ë¦­ ì—°ë™
```

#### 2ï¸âƒ£ ê¸°ìˆ  ì¥ë²½ ì œê±°
```
âœ… Docker ì „ë¬¸ ì§€ì‹ ë¶ˆí•„ìš”
âœ… Groovy/Jenkins í•™ìŠµ ë¶ˆí•„ìš”
âœ… Kubernetes ë³µì¡ì„± ì¶”ìƒí™”
âœ… ëˆ„êµ¬ë‚˜ 5ë¶„ë§Œì— ì»¨í…Œì´ë„ˆí™” ê°€ëŠ¥
```

#### 3ï¸âƒ£ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ í’ˆì§ˆ
```
âœ… í”„ë¡œë•ì…˜ ìˆ˜ì¤€ì˜ Dockerfile (ë³´ì•ˆ, ìµœì í™”)
âœ… ê²€ì¦ëœ í…œí”Œë¦¿ìœ¼ë¡œ ì—ëŸ¬ 85% ê°ì†Œ
âœ… Self-signed ì¸ì¦ì„œ ì§€ì›
âœ… Jenkins Credential ê¸°ë°˜ ë³´ì•ˆ ê°•í™”
```

#### 4ï¸âƒ£ ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸
```
âœ… ì—°ê°„ $169,200 ë¹„ìš© ì ˆê° (100 í”„ë¡œì íŠ¸ ê¸°ì¤€)
âœ… Time-to-Market 14ë°° ë‹¨ì¶•
âœ… ê°œë°œì ë§Œì¡±ë„ 96%
âœ… Self-service DevOps ë¬¸í™” ì •ì°©
```

### ğŸŒŸ ì°¨ë³„í™” ìš”ì†Œ

#### íƒ€ ì†”ë£¨ì…˜ ëŒ€ë¹„ ìš°ìœ„

| ê¸°ëŠ¥ | ì¼ë°˜ í…œí”Œë¦¿ | Docker Hub | ë³¸ ì†”ë£¨ì…˜ |
|------|-----------|-----------|----------|
| **ìë™ ìƒì„±** | âŒ ìˆ˜ë™ ì‘ì„± | âŒ ì˜ˆì œë§Œ ì œê³µ | âœ… ì™„ì „ ìë™ |
| **Kubernetes** | âš ï¸ ë¶€ë¶„ ì§€ì› | âŒ ë¯¸ì§€ì› | âœ… ì™„ë²½ ì§€ì› |
| **Jenkins í†µí•©** | âŒ ì—†ìŒ | âŒ ì—†ìŒ | âœ… ì™„ì „ ìë™í™” |
| **Harbor ì—°ë™** | âš ï¸ ìˆ˜ë™ ì„¤ì • | âŒ ì—†ìŒ | âœ… ì›í´ë¦­ |
| **ë³´ì•ˆ** | âš ï¸ ë¶ˆì¼ì¹˜ | âš ï¸ ê²€ì¦ ì•ˆ ë¨ | âœ… ëª¨ë²” ì‚¬ë¡€ ì ìš© |
| **ì»¤ìŠ¤í„°ë§ˆì´ì§•** | âœ… ê°€ëŠ¥ | âŒ ë¶ˆê°€ | âœ… ë¯¸ë¦¬ë³´ê¸° & í¸ì§‘ |

#### ê¸°ìˆ ì  í˜ì‹ 

```
1. Kaniko í†µí•©ìœ¼ë¡œ Kubernetes ë„¤ì´í‹°ë¸Œ ë¹Œë“œ
   â†’ privileged ëª¨ë“œ ë¶ˆí•„ìš”, ë³´ì•ˆ ê°•í™”

2. ë™ì  Pipeline ìƒì„± ì—”ì§„
   â†’ ë³µì¡í•œ Groovy ìŠ¤í¬ë¦½íŠ¸ ìë™ ìƒì„±

3. Jenkins Credential ê¸°ë°˜ ì¸ì¦
   â†’ í‰ë¬¸ ë¹„ë°€ë²ˆí˜¸ ë…¸ì¶œ ì œê±°

4. Remote ìºì‹±ìœ¼ë¡œ ë¹Œë“œ ì†ë„ í–¥ìƒ
   â†’ íŒ€ ì „ì²´ê°€ ìºì‹œ ê³µìœ , 90% ë¹ ë¦„

5. Self-signed ì¸ì¦ì„œ ìë™ ì²˜ë¦¬
   â†’ ì—”í„°í”„ë¼ì´ì¦ˆ í™˜ê²½ ì¦‰ì‹œ ì ìš© ê°€ëŠ¥
```

### ğŸ’¡ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ ì œì–¸

#### ë‹¨ê¸°ì  ê°€ì¹˜ (0-6ê°œì›”)
```
âœ… ì¦‰ì‹œ ìƒì‚°ì„± í–¥ìƒ (ì‘ì—… ì‹œê°„ 95% ë‹¨ì¶•)
âœ… ê¸°ìˆ  ë¶€ì±„ í•´ì†Œ (ë ˆê±°ì‹œ ì»¨í…Œì´ë„ˆí™”)
âœ… ê°œë°œì ë§Œì¡±ë„ í–¥ìƒ (ìë™í™”)
âœ… ì—ëŸ¬ ê°ì†Œë¡œ ì•ˆì •ì„± í–¥ìƒ
```

#### ì¤‘ê¸°ì  ê°€ì¹˜ (6-12ê°œì›”)
```
âœ… í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì „í™˜ ì™„ë£Œ
âœ… DevOps ë¬¸í™” ì •ì°©
âœ… í‘œì¤€í™”ë¡œ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
âœ… ë¹„ìš© ì ˆê° íš¨ê³¼ ê°€ì‹œí™” ($169K/ë…„)
```

#### ì¥ê¸°ì  ê°€ì¹˜ (12ê°œì›”+)
```
âœ… ì¡°ì§ ì „ì²´ ë””ì§€í„¸ ì „í™˜ ê°€ì†í™”
âœ… ì‹œì¥ ì¶œì‹œ ì†ë„ ê²½ìŸë ¥ í™•ë³´
âœ… ì¸ì¬ ì±„ìš© ë° ìœ ì§€ í–¥ìƒ (ìµœì‹  ê¸°ìˆ )
âœ… ì˜¤í”ˆì†ŒìŠ¤ ìƒíƒœê³„ ê¸°ì—¬ (ë¸Œëœë“œ ê°€ì¹˜)
```

### ğŸš€ í–‰ë™ ì œì•ˆ (Call to Action)

#### ì¦‰ì‹œ ì‹œì‘ ê°€ëŠ¥
```
1. ë°ëª¨ í™˜ê²½ ì ‘ì†
   â†’ https://containerize-solution.example.com

2. ìƒ˜í”Œ í”„ë¡œì íŠ¸ë¡œ í…ŒìŠ¤íŠ¸
   â†’ Python FastAPI ìƒ˜í”Œ ì œê³µ
   â†’ Node.js Express ìƒ˜í”Œ ì œê³µ

3. 5ë¶„ë§Œì— ì²« ì»¨í…Œì´ë„ˆ ë¹Œë“œ
   â†’ Dockerfile ìƒì„±
   â†’ Jenkins Pipeline ì‹¤í–‰
   â†’ Harborì— í‘¸ì‹œ ì™„ë£Œ

4. íŒ€ì— í™•ì‚°
   â†’ ë¬¸ì„œ ê³µìœ 
   â†’ ì›Œí¬ìƒµ ì§„í–‰
   â†’ í‘œì¤€ í…œí”Œë¦¿ ì ìš©
```

#### ë„ì… ì§€ì›
```
âœ… ê¸°ìˆ  ì§€ì›: ì„¤ì¹˜, ì„¤ì •, í†µí•© ì§€ì›
âœ… êµìœ¡ ì œê³µ: ì‚¬ìš©ë²•, ëª¨ë²” ì‚¬ë¡€ ì›Œí¬ìƒµ
âœ… ì»¤ìŠ¤í„°ë§ˆì´ì§•: ì¡°ì§ë³„ í…œí”Œë¦¿ ê°œë°œ
âœ… ì§€ì†ì  ê°œì„ : í”¼ë“œë°± ë°˜ì˜, ì—…ë°ì´íŠ¸
```

### ğŸ“ ë¬¸ì˜

```
ê¸°ìˆ  ë¬¸ì˜: devops@company.com
ë°ëª¨ ìš”ì²­: sales@company.com
ë¬¸ì„œ: https://docs.containerize-solution.com
GitHub: https://github.com/company/containerize-solution
```

---

<div align="center">

## ğŸ‰ ê°ì‚¬í•©ë‹ˆë‹¤

**ë³¸ ì†”ë£¨ì…˜ì´ ê·€ì‚¬ì˜ ë””ì§€í„¸ ì „í™˜ì„ ê°€ì†í™”í•˜ê³ **
**ê°œë°œ ìƒì‚°ì„±ì„ íšê¸°ì ìœ¼ë¡œ í–¥ìƒì‹œí‚¬ ê²ƒì…ë‹ˆë‹¤.**

---

*"ê¸°ìˆ ì˜ ë³µì¡ì„±ì„ ë‹¨ìˆœí•¨ìœ¼ë¡œ,*
*ìˆ˜ì‘ì—…ì„ ìë™í™”ë¡œ,*
*ì „ë¬¸ê°€ì˜ ì§€ì‹ì„ ëª¨ë‘ê°€ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ"*

**Containerization Solution Team**

---

</div>
